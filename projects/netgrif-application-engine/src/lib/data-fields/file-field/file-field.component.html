<nae-data-field-template [title]="fileField.title" [dataFieldTemplate]="dataField"></nae-data-field-template>

<ng-template #dataField let-showLargeLayout="showLargeLayout">

    <div>
        <button style="margin-bottom: 10px" mat-button color="warn" (click)="onFileUpload()">
            <mat-icon>file_upload</mat-icon>
            {{fileField.placeholder}}
        </button>

        <ul style="padding-left: 18px; overflow-y: auto;" #fileList>
            <li *ngFor="let file of allFiles" [@fadeInOut]="file.state">
                <div fxLayout="row" fxLayoutAlign=" center">
                    <mat-icon *ngIf="!file.successfullyUploaded" style="font-size: 20px; height: 20px;">description</mat-icon>
                    <mat-icon *ngIf="file.successfullyUploaded" style="font-size: 20px; height: 20px;">done</mat-icon>
                    <span (click)="onFileDownload(file)" style="margin-left: 10px; width: 500px; font-size: 13px;"
                          [ngClass]="{
                            'download': file.successfullyUploaded,
                            'upload': !file.successfullyUploaded
                          }">{{shortFileName(file)}}</span>
                    <span style="width: 200px; font-size: 12px; color: grey">{{file.data.size | decimalBytes }}</span>
                    <mat-progress-bar color="warn" [value]="file.progress" style="height: 8px"></mat-progress-bar>
                    <mat-icon (click)="retryFile(file)" *ngIf="file.canRetry"
                              style="font-size: 21px; height: 21px; margin-left: 6px; cursor: pointer;">restore_page</mat-icon>
                    <mat-icon (click)="cancelFile(file)" *ngIf="file.canCancel"
                              style="font-size: 15px; height: 15px; margin-left: 6px; cursor: pointer;">close</mat-icon>
                </div>
            </li>
        </ul>

        <input type="file" #fileUploadInput name="fileUpload" [multiple]="multiple"
               accept="{{fileField.allowTypes}}" style="display:none;"/>
    </div>
</ng-template>
