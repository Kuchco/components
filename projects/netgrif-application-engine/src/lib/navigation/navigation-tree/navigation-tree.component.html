<mat-tree [dataSource]="dataSource" [treeControl]="treeControl" style="width: 200px;">

    <!-- This is the tree node template for leaf nodes -->
    <mat-tree-node *matTreeNodeDef="let node" [routerLink]="node.url" matTreeNodeToggle matRipple style="cursor: pointer; padding: 4px;">
        <button *ngIf="node.level >= 1" mat-icon-button disabled style="width: 8px;margin-right: 4px;"></button>
        <button *ngIf="node.level >= 2" mat-icon-button disabled style="width: 8px;margin-right: 4px;"></button>
        <mat-icon color="primary" style="line-height: 40px;height: 40px; width: 24px; margin-right: 4px;">{{node.icon}}</mat-icon>
        {{node.name}}
    </mat-tree-node>

    <!-- This is the tree node template for expandable nodes -->
    <mat-nested-tree-node *matTreeNodeDef="let node; when: hasChild">
        <div class="mat-tree-node" matTreeNodeToggle style="cursor: pointer;padding: 4px;" matRipple [class.bottom-shadow]="treeControl.isExpanded(node)">
            <button *ngIf="node.level >= 1" mat-icon-button disabled style="width: 8px;margin-right: 4px;"></button>
            <button *ngIf="node.level >= 2" mat-icon-button disabled style="width: 8px;margin-right: 4px;"></button>

            <mat-icon color="primary" style="line-height: 40px;height: 40px; width: 24px; margin-right: 4px;">{{node.icon}}</mat-icon>
            {{node.name}}

            <div fxFlex></div>
            <button mat-icon-button style="width: 24px;">
                <mat-icon>
                    {{treeControl.isExpanded(node) ? 'expand_more' : 'chevron_right'}}
                </mat-icon>
            </button>
        </div>
        <div [class.nested-tree-invisible]="!treeControl.isExpanded(node)" class="darker-background">
            <ng-container matTreeNodeOutlet></ng-container>
        </div>
    </mat-nested-tree-node>
</mat-tree>
