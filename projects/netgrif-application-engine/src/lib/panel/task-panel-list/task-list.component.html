<div fxLayout="column" fxLayoutAlign="start center" fxFlex>
    <ng-container *ngIf="tasks$ | async as tasks">

        <div *ngIf="(loading$ | async) === false && tasks.length === 0" fxLayout="column" fxLayoutAlign="center center" fxFlex>
            <mat-icon color="accent">check_box</mat-icon>
            <span class="font-size-20">{{ 'tasks.view.noTasksSatisfyingThisFilter' | translate }}</span>
        </div>

        <mat-accordion multi="true" class="full-width" fxFlex="100">
            <cdk-virtual-scroll-viewport itemSize="50" (scrolledIndexChange)="loadNextPage()" class="full-width" fxFlex="100">

                <nae-task-panel
                    *cdkVirtualFor="let task of tasks; let i = index; trackBy: trackBy; templateCacheSize: 0"
                    [taskPanelData]="task"
                    [selectedHeaders$]="selectedHeaders$">
                </nae-task-panel>

                <div *ngIf="loading$ | async" fxLayout="column" fxLayoutAlign="center center" fxFlex>
                    <mat-spinner color="primary" diameter="50"></mat-spinner>
                </div>

            </cdk-virtual-scroll-viewport>
        </mat-accordion>

    </ng-container>
</div>
