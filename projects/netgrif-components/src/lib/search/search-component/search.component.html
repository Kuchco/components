<div fxLayout="row wrap" fxLayoutAlign="start center">
    <div class="search-icon" fxLayout="row" fxLayoutAlign="start center">
        <mat-icon [inline]="true">search</mat-icon>
    </div>

    <div *ngIf="advancedSearchDisplayed; then advancedSearch; else fullTextSearch"></div>

    <ng-template #advancedSearch>
        <ng-template ngFor let-item [ngForOf]="getPredicateMap() | keyvalue" let-last="last" [ngForTrackBy]="trackByPredicates">
            <nc-search-clause [predicate]="item.value" [predicateId]="item.key" [remove$]="removeChild$" class="clause-margin"></nc-search-clause>
            <div *ngIf="!last" class="button-margin">{{'search.and' | translate | uppercase}}</div>
        </ng-template>
        <button mat-stroked-button (click)="addChildPredicate()" class="button-margin">+ {{'search.and' | translate | uppercase}}</button>
    </ng-template>

    <ng-template #fullTextSearch>
        <mat-form-field appearance="outline" class="disable-error-margin">
            <input type="text" matInput
                   [placeholder]="'search.fullText' | translate"
                   [formControl]="fullTextFormControl"
                   (keydown.enter)="$event.target.blur()">
        </mat-form-field>
    </ng-template>

    <button mat-icon-button class="search-toggle-margin"
            [matTooltip]="(advancedSearchDisplayed ? 'search.tooltip.toFullText' : 'search.tooltip.toAdvanced') | translate" (click)="toggleSearchMode()">
        <mat-icon>youtube_searched_for</mat-icon>
    </button>
</div>
