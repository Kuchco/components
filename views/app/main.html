<div ng-cloak class="layout-rh-100 color-bg-transparent" layout="column">

    <md-toolbar layout="row" layout-align="center center" md-whiteframe="5" class="toolbar">

        <md-button hide-gt-sm ng-click="mainCtrl.toggleSidenav('left-nav')" class="md-icon-button">
            <md-icon class="material-icons">menu</md-icon>
        </md-button>

        <a href="/" hide show-gt-sm layout-align="center center" class="toolbar-logo margin-left-2x">
            <img src="../../assets/netgrif_full_white.svg" alt="logo" class="padding-vertical-default">
        </a>

        <div flex></div>

        <md-menu-bar layout="row" layout-align="center center" class="toolbar-menu">
            <md-menu>

                <md-button ng-click="$mdMenu.open($event)" layout="row" layout-align="left center" class="btn-menu" md-menu-origin>
                    {{$user.name}}
                    <i class="material-icons">account_circle</i>
                </md-button>

                <md-menu-content width="3">

                    <md-menu-item>
                        <md-menu class="toolbar-submenu">

                            <md-button ng-click="$mdMenu.open()">
                                <div class="btn-menu">
                                    <md-icon class="material-icons">language</md-icon>
                                    <span>{{::$i18n.block.mainMenu.lang.this}}</span>
                                </div>
                            </md-button>

                            <md-menu-content width="2">

                                <md-menu-item>
                                    <md-button ng-click="$i18n.change('en-us')" layout="row" layout-align="space-between center">
                                        <span>{{::$i18n.block.mainMenu.lang.en}}</span>
                                        <md-icon ng-if="$i18n.current() === 'en-us'" class="material-icons">keyboard_arrow_left</md-icon>
                                    </md-button>
                                </md-menu-item>

                                <md-menu-item>
                                    <md-button ng-click="$i18n.change('sk-sk')" layout="row" layout-align="space-between center">
                                        <span>{{::$i18n.block.mainMenu.lang.sk}}</span>
                                        <md-icon ng-if="$i18n.current() === 'sk-sk'" class="material-icons">keyboard_arrow_left</md-icon>
                                    </md-button>
                                </md-menu-item>

                            </md-menu-content>

                        </md-menu>
                    </md-menu-item>

                    <md-menu-item>
                        <md-button href="/profile" class="padding-top-0">
                            <md-icon class="material-icons">account_circle</md-icon>
                            {{::$i18n.block.mainMenu.profile}}
                        </md-button>
                    </md-menu-item>

                    <md-menu-item>
                        <md-button ng-click="mainCtrl.logout()">
                            <md-icon class="material-icons">exit_to_app</md-icon>
                            {{::$i18n.block.mainMenu.logout}}
                        </md-button>
                    </md-menu-item>

                </md-menu-content>

            </md-menu>
        </md-menu-bar>

    </md-toolbar>

    <section layout="row" flex class="layout-rh-100 color-bg-transparent">

        <md-sidenav md-component-id="left-nav" md-is-locked-open="$mdMedia('gt-sm')" class="sidenav md-sidenav-left">
            <md-content flex layout="column">

                <md-button href="/dashboard" layout="row" layout-align="start center" ng-class="{active: ('dashboard' | routeSegmentContains)}">
                    <i class="material-icons">dashboard</i>{{::$i18n.page.dashboard.this}}
                </md-button>

                <md-button href="/cases" layout="row" layout-align="start center" ng-class="{active: ('cases' | routeSegmentContains)}">
                    <i class="material-icons">content_paste</i>{{::$i18n.page.cases.this}}
                </md-button>

                <md-button href="/console" ng-if="$user.hasAuthority('ROLE_ADMIN')" layout="row" layout-align="start center" ng-class="{active: ('console' | routeSegmentContains)}">
                    <i class="material-icons">developer_board</i>{{::$i18n.page.console.this}}
                </md-button>

                <div flex></div>

                <a href="/" hide-gt-sm layout="row" layout-align="center center" class="sidenav-logo padding-vertical-default">
                    <img src="../../assets/netgrif_full_white.svg" alt="logo">
                </a>

                <div layout="row" layout-align="center center" class="margin-bottom-default">
                    <span class="color-fg-accent-50">{{::$i18n.version.this + " " + $i18n.version.id}}</span>
                </div>

            </md-content>
        </md-sidenav>

        <md-content layout-wrap flex class="color-bg-transparent">
            <div app-view-segment="1" onload="mainCtrl.startLoadingData()" class="layout-rh-100"></div>
        </md-content>

    </section>

</div>
