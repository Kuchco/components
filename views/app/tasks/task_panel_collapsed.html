<p flex="25" layout="row" layout-align="start center">
    <i class="material-icons {{task.caseColor}}">label</i> {{task.caseTitle}}
</p>
<p flex="25">{{task.title}}</p>
    <task-priority flex="15" layout="row" layout-align="start center" priority="{{task.priority}}"></task-priority>
<p flex="20" layout="row" layout-align="start center">
    <i ng-if="task.user" class="material-icons color-fg-primary-500">account_circle</i> {{task.user.name+" "+task.user.surname}}
</p>
<p flex="15">{{tasksCtrl.formatDate(task.startDate)}}</p>
<div ng-class="task.status !== 'Assigned' || task.user.email === $user.login ? 'visibility-visible' : 'visibility-hidden'">
    <md-menu>
        <md-button ng-click="$mdOpenMenu($event)" md-menu-origin>
            <md-icon class="material-icons">more_vert</md-icon>
        </md-button>
        <md-menu-content>
            <md-menu-item ng-if="task.status === 'New' && $user.canAssign(task.assignRole)">
                <md-button ng-click="tasksCtrl.assignTask(task)">{{::$i18n.block.task.assign}}</md-button>
            </md-menu-item>
            <md-menu-item ng-if="task.status === 'New' && $user.canDelegate(task.delegateRole)">
                <md-button ng-click="tasksCtrl.delegateTask(task)">{{::$i18n.block.task.delegate}}</md-button>
            </md-menu-item>
            <md-menu-item ng-if="task.user.email == $user.login && task.status != 'Done'">
                <md-button ng-click="tasksCtrl.delegateTask(task)">{{::$i18n.block.task.reassign}}</md-button>
            </md-menu-item>
            <md-menu-item ng-if="task.user.email == $user.login && task.status != 'Done'">
                <md-button ng-click="tasksCtrl.finishTask(task)">{{::$i18n.block.task.finish}}</md-button>
            </md-menu-item>
            <md-menu-item ng-if="task.user.email == $user.login && task.status != 'Done'">
                <md-button ng-click="tasksCtrl.cancelTask(task)">{{::$i18n.block.task.cancel}}</md-button>
            </md-menu-item>
        </md-menu-content>
    </md-menu>
</div>